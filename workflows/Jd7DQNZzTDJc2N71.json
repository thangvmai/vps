{
  "active": true,
  "connections": {
    "Kiá»ƒm tra Ä‘Æ¡n hÃ ng má»›i táº¡o": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "LÆ°u thÃ´ng tin": {
      "main": [
        [
          {
            "node": "Gá»­i tin Zalo",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "LÆ°u thÃ´ng tin",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-08-09T09:47:24.548Z",
  "id": "Jd7DQNZzTDJc2N71",
  "isArchived": false,
  "meta": null,
  "name": "3 - Há»“ng - Gá»­i thÃ´ng bÃ¡o Ä‘áº¿n Zalo khi cÃ³ Ä‘Æ¡n hÃ ng má»›i",
  "nodes": [
    {
      "parameters": {
        "event": "order.created"
      },
      "type": "n8n-nodes-base.wooCommerceTrigger",
      "typeVersion": 1,
      "position": [
        -496,
        0
      ],
      "id": "05186e68-c8d0-4008-8ea4-64361ae4ed79",
      "name": "Kiá»ƒm tra Ä‘Æ¡n hÃ ng má»›i táº¡o",
      "webhookId": "ba0bf3b2-2ba2-4aba-81ad-538c90c24072",
      "credentials": {
        "wooCommerceApi": {
          "id": "YeePakWQ7rvYheDB",
          "name": "WooCommerce sora"
        }
      }
    },
    {
      "parameters": {
        "threadId": "1065949318692196563",
        "type": 1,
        "message": "=ðŸ“¦ THÃ”NG TIN ÄÆ N HÃ€NG Má»šI:\n\n- Sáº¢N PHáº¨M: {{ $json['Sáº£n pháº©m'] }}\n- Sá» LÆ¯á»¢NG: {{ $json['Sá»‘ lÆ°á»£ng'] }}\n- MÃƒ ÄÆ N HÃ€NG: {{ $json['MÃ£ Ä‘Æ¡n hÃ ng'] }}\n- TÃŠN KHÃCH HÃ€NG: {{ $json['TÃªn khÃ¡ch hÃ ng'] }}\n- Äá»ŠA CHá»ˆ: {{ $json['Äá»‹a Chá»‰'] }}\n- SÄT: {{ $json['SÄ‘t'] }}\n- THá»œI GIAN Äáº¶T: {{ $json['Thá»i gian Ä‘áº·t'] }}\n- PHÆ¯Æ NG THá»¨C THANH TOÃN: {{ $json['PhÆ°Æ¡ng thá»©c thanh toÃ¡n'] }}\n- Tá»”NG TIá»€N: {{ $json['Tá»•ng tiá»n'] }}\n",
        "quote": {},
        "mentions": {}
      },
      "type": "n8n-nodes-zalo-tools.zaloSendMessage",
      "typeVersion": 4,
      "position": [
        288,
        0
      ],
      "id": "cddbe07b-0f20-488a-bbad-f760e80e678c",
      "name": "Gá»­i tin Zalo",
      "credentials": {
        "zaloApi": {
          "id": "Q9ZDuWnqr1DHtDUl",
          "name": "Zalo API Sora"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1B24vujiYCwEvH75ogxNOHpAiaTuAn9kEo0Mh8jsZOrU",
          "mode": "list",
          "cachedResultName": "SPA Calla",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1B24vujiYCwEvH75ogxNOHpAiaTuAn9kEo0Mh8jsZOrU/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 12401753,
          "mode": "list",
          "cachedResultName": "ThÃ´ng Tin Äáº·t hÃ ng",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1B24vujiYCwEvH75ogxNOHpAiaTuAn9kEo0Mh8jsZOrU/edit#gid=12401753"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "MÃ£ Ä‘Æ¡n hÃ ng": "={{ $json.id }}",
            "Tráº¡ng thÃ¡i": "={{ $json.status }}",
            "Thá»i gian Ä‘áº·t": "={{ $json.date_created }}",
            "TÃªn khÃ¡ch hÃ ng": "={{ $json.billing.first_name }}",
            "Äá»‹a Chá»‰": "={{ $json.billing.address_1 }}",
            "Email": "={{ $json.billing.email }}",
            "SÄ‘t": "={{ $json.billing.phone }}",
            "PhÆ°Æ¡ng thá»©c thanh toÃ¡n": "={{ $json.payment_method_title }}",
            "Sá»‘ lÆ°á»£ng": "={{ $json.quantityList }}",
            "Tá»•ng tiá»n": "={{ $json.line_items[0].total }}VnÄ‘",
            "Sáº£n pháº©m": "={{ $json.productList }}"
          },
          "matchingColumns": [
            "Sáº£n pháº©m"
          ],
          "schema": [
            {
              "id": "Sáº£n pháº©m",
              "displayName": "Sáº£n pháº©m",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Sá»‘ lÆ°á»£ng",
              "displayName": "Sá»‘ lÆ°á»£ng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "MÃ£ Ä‘Æ¡n hÃ ng",
              "displayName": "MÃ£ Ä‘Æ¡n hÃ ng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Tráº¡ng thÃ¡i",
              "displayName": "Tráº¡ng thÃ¡i",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "TÃªn khÃ¡ch hÃ ng",
              "displayName": "TÃªn khÃ¡ch hÃ ng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Äá»‹a Chá»‰",
              "displayName": "Äá»‹a Chá»‰",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "SÄ‘t",
              "displayName": "SÄ‘t",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Email",
              "displayName": "Email",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Tá»•ng tiá»n",
              "displayName": "Tá»•ng tiá»n",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "PhÆ°Æ¡ng thá»©c thanh toÃ¡n",
              "displayName": "PhÆ°Æ¡ng thá»©c thanh toÃ¡n",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Thá»i gian Ä‘áº·t",
              "displayName": "Thá»i gian Ä‘áº·t",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        48,
        0
      ],
      "id": "c0456dd5-d231-4024-bcd9-2d1befb30e70",
      "name": "LÆ°u thÃ´ng tin",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "jrdwFmaTBkFLjulZ",
          "name": "Sora"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const items = $json.line_items;\n\n// GhÃ©p sá»‘ lÆ°á»£ng cÃ¡c sáº£n pháº©m: vÃ­ dá»¥ \"2, 3, 1\"\nconst quantityList = items.map(item => item.quantity).join(', ');\n\n// GhÃ©p tÃªn + sá»‘ lÆ°á»£ng sáº£n pháº©m cho cá»™t \"Sáº£n pháº©m\"\nconst productList = items.map(item => `${item.name} x${item.quantity}`).join('\\n');\n\nreturn [{\n  json: {\n    ...$json,\n    productList,\n    quantityList\n  }\n}];\n\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -240,
        0
      ],
      "id": "a5f21af2-d07e-4908-86a9-9107a608d8c9",
      "name": "Code"
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": {
    "node:WooCommerce Trigger": {},
    "node:Kiá»ƒm tra Ä‘Æ¡n hÃ ng má»›i táº¡o": {
      "webhookId": 45,
      "secret": "5c3ce23c910c4d32a79f30a5cbd26e45"
    }
  },
  "tags": [],
  "triggerCount": 1,
  "updatedAt": "2025-08-14T04:50:14.884Z",
  "versionId": "3485942a-481f-4be0-9c3f-df8495a163a9"
}